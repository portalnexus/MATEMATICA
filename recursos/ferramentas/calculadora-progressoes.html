<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Progress√µes | Nexus</title>

    <!-- KaTeX para renderiza√ß√£o LaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #2563eb;
            margin-bottom: 10px;
            font-size: 2rem;
        }

        .subtitle {
            text-align: center;
            color: #64748b;
            margin-bottom: 30px;
            font-size: 0.95rem;
        }

        .form-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .form-section h3 {
            color: #2563eb;
            margin-bottom: 20px;
            font-size: 1.3rem;
            text-align: center;
        }

        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-field {
            display: flex;
            flex-direction: column;
        }

        .input-field label {
            font-weight: 600;
            color: #334155;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .input-field input, .input-field select {
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .input-field input:focus, .input-field select:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .btn-calcular {
            width: 100%;
            padding: 15px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .btn-calcular:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
        }

        .resultado {
            background: #f1f5f9;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            display: none;
        }

        .resultado h2 {
            color: #2563eb;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .resultado-item {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            font-size: 1rem;
        }

        .resultado-item strong {
            color: #1e293b;
        }

        .progressao-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .progressao-btn {
            padding: 10px 15px;
            background: #e2e8f0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.2s;
        }

        .progressao-btn:hover, .progressao-btn.active {
            background: #2563eb;
            color: white;
        }

        .series-display {
            margin-top: 15px;
            padding: 15px;
            background: #e2e8f0;
            border-radius: 8px;
            font-family: monospace;
        }

        @media (max-width: 640px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .input-group {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üî¢ Calculadora de Progress√µes</h1>
        <p class="subtitle">Calcule termos e somas de Progress√µes Aritm√©ticas (PA) e Geom√©tricas (PG)</p>

        <div class="progressao-selector">
            <button class="progressao-btn active" onclick="showSection('pa')">Progress√£o Aritm√©tica (PA)</button>
            <button class="progressao-btn" onclick="showSection('pg')">Progress√£o Geom√©trica (PG)</button>
        </div>

        <!-- Se√ß√£o da PA -->
        <div id="pa-section" class="form-section">
            <h3>Progress√£o Aritm√©tica (PA)</h3>
            <p>F√≥rmula do termo geral: @a_n = a_1 + (n-1) \\cdot r@</p>
            <p>F√≥rmula da soma dos n primeiros termos: @S_n = \\frac{n \\cdot (a_1 + a_n)}{2}@</p>
            
            <div class="input-group">
                <div class="input-field">
                    <label for="a1-pa">Primeiro termo (a‚ÇÅ):</label>
                    <input type="number" id="a1-pa" value="2" step="0.1">
                </div>
                <div class="input-field">
                    <label for="r-pa">Raz√£o (r):</label>
                    <input type="number" id="r-pa" value="3" step="0.1">
                </div>
                <div class="input-field">
                    <label for="n-pa">N√∫mero de termos (n):</label>
                    <input type="number" id="n-pa" value="10" min="1" max="100">
                </div>
            </div>
            
            <button class="btn-calcular" onclick="calcularPA()">Calcular PA</button>
            
            <div class="resultado" id="resultado-pa">
                <h2>üìä Resultado da PA</h2>
                <div id="conteudo-pa"></div>
            </div>
        </div>

        <!-- Se√ß√£o da PG -->
        <div id="pg-section" class="form-section" style="display: none;">
            <h3>Progress√£o Geom√©trica (PG)</h3>
            <p>F√≥rmula do termo geral: @a_n = a_1 \\cdot q^{n-1}@</p>
            <p>F√≥rmula da soma dos n primeiros termos: @S_n = a_1 \\cdot \\frac{q^n - 1}{q - 1}@ (q ‚â† 1)</p>
            
            <div class="input-group">
                <div class="input-field">
                    <label for="a1-pg">Primeiro termo (a‚ÇÅ):</label>
                    <input type="number" id="a1-pg" value="2" step="0.1">
                </div>
                <div class="input-field">
                    <label for="q-pg">Raz√£o (q):</label>
                    <input type="number" id="q-pg" value="2" step="0.1">
                </div>
                <div class="input-field">
                    <label for="n-pg">N√∫mero de termos (n):</label>
                    <input type="number" id="n-pg" value="10" min="1" max="100">
                </div>
            </div>
            
            <button class="btn-calcular" onclick="calcularPG()">Calcular PG</button>
            
            <div class="resultado" id="resultado-pg">
                <h2>üìä Resultado da PG</h2>
                <div id="conteudo-pg"></div>
            </div>
        </div>
    </div>

    <script>
        // Fun√ß√£o para mostrar a se√ß√£o selecionada
        function showSection(progressao) {
            // Esconder todas as se√ß√µes
            const sections = document.querySelectorAll('.form-section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            
            // Remover classe 'active' de todos os bot√µes
            const buttons = document.querySelectorAll('.progressao-btn');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            
            // Mostrar a se√ß√£o selecionada e ativar o bot√£o
            document.getElementById(progressao + '-section').style.display = 'block';
            event.target.classList.add('active');
        }

        // Fun√ß√£o para calcular PA
        function calcularPA() {
            const a1 = parseFloat(document.getElementById('a1-pa').value);
            const r = parseFloat(document.getElementById('r-pa').value);
            const n = parseInt(document.getElementById('n-pa').value);
            
            if (isNaN(a1) || isNaN(r) || isNaN(n) || n <= 0) {
                alert('Por favor, insira valores v√°lidos!');
                return;
            }
            
            // Calcular o en√©simo termo
            const an = a1 + (n - 1) * r;
            
            // Calcular a soma dos n primeiros termos
            const soma = (n * (a1 + an)) / 2;
            
            // Calcular os primeiros 10 termos para exibir
            const termos = [];
            for (let i = 1; i <= Math.min(n, 10); i++) {
                termos.push(a1 + (i - 1) * r);
            }
            
            const conteudo = document.getElementById('conteudo-pa');
            conteudo.innerHTML = `
                <div class="resultado-item"><strong>Primeiro termo (a‚ÇÅ):</strong> ${a1.toFixed(2)}</div>
                <div class="resultado-item"><strong>Raz√£o (r):</strong> ${r.toFixed(2)}</div>
                <div class="resultado-item"><strong>N√∫mero de termos (n):</strong> ${n}</div>
                <div class="resultado-item"><strong>En√©simo termo (a_${n}):</strong> ${an.toFixed(2)}</div>
                <div class="resultado-item"><strong>Soma dos ${n} primeiros termos (S_${n}):</strong> ${soma.toFixed(2)}</div>
                <div class="resultado-item">
                    <strong>Primeiros termos:</strong>
                    <div class="series-display">${termos.map(t => t.toFixed(2)).join(', ')}${n > 10 ? ', ...' : ''}</div>
                </div>
            `;
            
            document.getElementById('resultado-pa').style.display = 'block';
        }

        // Fun√ß√£o para calcular PG
        function calcularPG() {
            const a1 = parseFloat(document.getElementById('a1-pg').value);
            const q = parseFloat(document.getElementById('q-pg').value);
            const n = parseInt(document.getElementById('n-pg').value);
            
            if (isNaN(a1) || isNaN(q) || isNaN(n) || n <= 0) {
                alert('Por favor, insira valores v√°lidos!');
                return;
            }
            
            // Calcular o en√©simo termo
            const an = a1 * Math.pow(q, n - 1);
            
            // Calcular a soma dos n primeiros termos
            let soma;
            if (q === 1) {
                soma = a1 * n;
            } else {
                soma = a1 * (Math.pow(q, n) - 1) / (q - 1);
            }
            
            // Calcular os primeiros 10 termos para exibir
            const termos = [];
            for (let i = 1; i <= Math.min(n, 10); i++) {
                termos.push(a1 * Math.pow(q, i - 1));
            }
            
            const conteudo = document.getElementById('conteudo-pg');
            conteudo.innerHTML = `
                <div class="resultado-item"><strong>Primeiro termo (a‚ÇÅ):</strong> ${a1.toFixed(2)}</div>
                <div class="resultado-item"><strong>Raz√£o (q):</strong> ${q.toFixed(2)}</div>
                <div class="resultado-item"><strong>N√∫mero de termos (n):</strong> ${n}</div>
                <div class="resultado-item"><strong>En√©simo termo (a_${n}):</strong> ${an.toFixed(2)}</div>
                <div class="resultado-item"><strong>Soma dos ${n} primeiros termos (S_${n}):</strong> ${soma.toFixed(2)}</div>
                <div class="resultado-item">
                    <strong>Primeiros termos:</strong>
                    <div class="series-display">${termos.map(t => t.toFixed(2)).join(', ')}${n > 10 ? ', ...' : ''}</div>
                </div>
            `;
            
            document.getElementById('resultado-pg').style.display = 'block';
        }

        // Renderizar f√≥rmulas LaTeX quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "@@", right: "@@", display: true},
                    {left: "@", right: "@", display: false}
                ]
            });
        });
    </script>
</body>
</html>